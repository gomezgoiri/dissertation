\section{Background}
\label{background}

Querying over the semantic content provided by independent sources transparently is a problem which often appears in the \acf{lod}.
\citet{gorlitz_federated_2011} classify the possible \ac{lod} infrastructures according to
\begin{enumerate*}[label=\itshape(\arabic*\upshape)]
  \item how they store data,
  \item whether the index used to search is distributed, and
  \item whether data sources cooperate.
\end{enumerate*}
Table~\ref{tab:infrastructure_lod} summarizes the resulting infrastructure types: central repository, federation and \ac{p2p} data management.


\input{\pathchapfive/tables/lod_infrastructure}


% Lo nuestro se parece más a LOD de dispositivos que a distributed triple store:
%     grafos semánticos de fuentes de datos independientes
The solutions which distribute the semantic content are federation and \ac{p2p} data management.
While the latter distributes the index to look for content in multiple machines, federation does not.
%The difference among them resides in whether the index to look for content in the different machines is distributed or not consecutively.
%A federated \ac{lod} infrastructure maintains the meta information about data sources in the machine in charge of searching (called \emph{federator}).
%On the other hand, the P2P approach maintains the meta information distributed.
Our solution proposes a federation infrastructure with some particularities:
\begin{itemize}
  % Esto es, los índices están replicados, pero quien los usa siempre los coge de la misma máquina.
  % No se necesita coordinación entre quienes guardan los índices para balancear o obtener algunos índices que no tienen...
  \item There is a unique node in charge of managing the main version of the metadata needed to create indexes.
	However, it is dynamically chosen among all the participants and can change over the time.
	Consumers hold copies of the manager's metadata.
  \item Each consumer builds its own index from its metadata replica.
	This allows consumers not to critically depend on the availability of any other node to search. % no depender => MUCHO
	%In other words, in our solution there are as many \emph{federators} as data consumers. % Ya no puedo poner esto, porque no he explicado qué es un federator
\end{itemize}


\bigskip


% presentamos 3 soluciones: FedX, ARQ y XXX.
FedX \citep{schwarte_fedx_federation2011,schwarte_fedx_optimization_2011}, DARQ \citep{quilitz_querying_2008} and SemWIQ \citep{langegger_semantic_2008} are the most relevant solutions to perform federated queries over independent semantic data sources.
%Both in these solutions and in ours relevant sources are know beforehand (i.e. they use a \emph{top-down} strategy).
%\emph{Bottom-up} strategies discover data sources by following the links on the content provided by other sources during the query process \citep{schwarte_fedx_optimization_2011}.
%Although our solution also uses a \emph{top-down} strategy, we explicitly avoid human intervention to discover new data sources or providers. % a diferencia de FedX, por lo que ví en la demo % o si, en realidad no nos metemos mucho con eso
%Instead, we rely on automatic discovery mechanisms which additionally must provide some additional information about the data providers. % BTW, esto es un problema para interoperabilidad!
% esto está sacado sobre todo del estado del arte de schwarte_fedx_optimization_2011
DARQ and SemWIQ require locally preprocessed metadata about data sources, while Fedex uses on-demand queries together with a caching mechanism. % SPARQL ASK
In that aspect, our solution resembles DARQ and SemWIQ since it also requires this metadata (called \clues{} in our solution).
In fact, we propose two types of \clues{} which are equivalent to the metadata used by DARQ and SemWIQ.
DARQ maintains predicate indexes to find relevant data sources.
SemWIQ maintains a local catalog with the type information of RDF entities provided by data sources. % el tipo de cada sujeto se debe conocer de alguna forma
In contrast with our solution, DARQ and SemWIQ also use statistics about data sources to optimize their queries.


%    por lo tanto se podría implementar sobre lo nuestro lo suyo
%            (y permitir optimizaciones si introducimos SPARQL en algunos nodos)
% no hay ninguna solución global con una arquitectura que tenga en cuenta le energía
% cómo el problema difiere: más fuentes de datos, menos info en cada una y dinamicas
A key difference with the mentioned systems is the context where we have applied our solution.
It is intended to serve in \ac{ubicomp} environments.
This means that there will be many more data sources and with less information to process in each of them.
Furthermore, their nature also differs from the usual \ac{lod} endpoints' one: the mobile and embedded devices which may provide data are less reliable, more dynamic and more restricted in computation and energy.
Therefore, we designed and evaluated our solution considering this nature and restrictions.
To the best of our knowledge, this is the first approximation to the problem within the explained context.
% además, abarcamos más parte del proceso?? => discovery, la replica, etc.


% pros y contras:
Considering the constrained architecture of the data sources, we acknowledge that some of them will not be able to process \acs{sparql} \citeweb{sparql2008}.
Consequently, we require the lowest common denominator: basic triple patterns.
This causes the main weakness of our solution compared to FedX, DARQ and SemWIQ: a less sophisticated querying mechanism.
%This is because all these solutions assume that all data sources can process SPARQL and offer optimization techniques on top of it. % todo cita a SPARQL
%In any case, SPARQL can always be decomposed into triple patterns.
For our future work, we are considering using \acs{sparql} just with the endpoints able to manage it as a halfway solution.
This will allow us to introduce some of the optimization techniques presented by other solutions.


\bigskip


% mencionar que se ha hablado de soluciones IoT que usen semántica anteriormente y que to the best of our knowledge no existe nada parecido
% como se ha visto en TAL y TAL sección no existen soluciones de busqueda de contenidos semánticos distribuido para WoT. (o al menos no para funcionar en cacharrillos)
In sections~\ref{sec:sw_intermediaries} and \ref{sec:sw_providers} we have analyzed other solutions for \ac{ubicomp} which use semantics.
However, none of them have addressed federated distributed search in resource constrained devices.
% meter alguna referencia a Cabilmonte y demás?
% Es más de cómo consultar datos semánticos en streaming a una base de datos relacional...


% Mencionar SPARQL SERVICES y demás ??
% No es transparente, pero permiten hacer queries a distintas fuentes.


% mencionar fokoue con lo de los resumenes ?
% meter enlace con lo de summaries de ABox en la parte correspondiente?






% La acepción de Name resolution cambia depende del contexto!
% http://en.wikipedia.org/wiki/Name_resolution

% Name resolution vs recognition
% http://stackoverflow.com/questions/8589005/difference-between-named-entity-recognition-and-resolution

% Mirar en el punto 6.3 para ver unos pasos de consulta en la LOD que parece que pueden ser interesantes para esto
% http://www.unifr.ch/webnews/content/20/attach/4765.pdf